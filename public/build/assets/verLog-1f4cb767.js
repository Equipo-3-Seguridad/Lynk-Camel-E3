let i=document.getElementById("formulario"),u=document.querySelectorAll("#formulario input"),c=document.querySelectorAll("#formulario select"),a={role:/^[A-Za-z0-9áéíóúüñÑÁÉÍÓÚÜ\s]{2,12}$/,email:/^([a-zA-Z0-9._%+-]+)@([a-zA-Z0-9.-]+\.[a-zA-Z]{2,})$/,password:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*]).{8,20}$/},t={role:!1,email:!1,password:!1},s=r=>{switch(r.target.name){case"role":l(a.role,r.target,"role");break;case"email":l(a.email,r.target,"email");break;case"password":l(a.password,r.target,"password");break}},l=(r,o,e)=>{r.test(o.value)?(document.getElementById(`grupo__${e}`).classList.remove("formulario__grupo-incorrecto"),document.getElementById(`grupo__${e}`).classList.add("formulario__grupo-correcto"),document.querySelector(`#grupo__${e} i`).classList.remove("fa-times-circle"),document.querySelector(`#grupo__${e} i`).classList.add("fa-check-circle"),document.querySelector(`#grupo__${e} .formulario__input-error`).classList.remove("formulario__input-error-activo"),localStorage.setItem(`campo_${e}`,o.value),t[e]=!0):(document.getElementById(`grupo__${e}`).classList.add("formulario__grupo-incorrecto"),document.getElementById(`grupo__${e}`).classList.add("formulario__grupo-correcto"),document.querySelector(`#grupo__${e} i`).classList.add("fa-times-circle"),document.querySelector(`#grupo__${e} i`).classList.remove("fa-check-circle"),document.querySelector(`#grupo__${e} .formulario__input-error`).classList.add("formulario__input-error-activo"),localStorage.setItem(`campo_${e}`,o.value),t[e]=!1)};u.forEach(r=>{r.addEventListener("keyup",s),r.addEventListener("blur",s)});c.forEach(r=>{r.addEventListener("change",s)});i.addEventListener("submit",r=>{r.preventDefault(),t.role&&t.email&&t.password?(document.getElementById("formulario__mensaje-exito").classList.add("formulario__mensaje-exito-activo"),document.getElementById("formulario__mensaje").classList.remove("formulario__mensaje-activo"),setTimeout(()=>{document.getElementById("formulario__mensaje-exito").classList.remove("formulario__mensaje-exito-activo")},2e3),document.querySelectorAll(".formulario__grupo-correcto").forEach(o=>{o.classList.remove("formulario__grupo-correcto")}),i.submit()):document.getElementById("formulario__mensaje").classList.add("formulario__mensaje-activo")});
